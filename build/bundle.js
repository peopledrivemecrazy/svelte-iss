var app=function(){"use strict";function t(){}function n(t){return t()}function o(){return Object.create(null)}function e(t){t.forEach(n)}function r(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(n,o,e){n.$$.on_destroy.push(function(n,...o){if(null==n)return t;const e=n.subscribe(...o);return e.unsubscribe?()=>e.unsubscribe():e}(o,e))}function s(t,n){t.appendChild(n)}function l(t,n,o){t.insertBefore(n,o||null)}function c(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function d(t,n,o){null==o?t.removeAttribute(n):t.getAttribute(n)!==o&&t.setAttribute(n,o)}function h(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let m;function g(t){m=t}function $(){if(!m)throw new Error("Function called outside component initialization");return m}function w(){const t=$();return(n,o)=>{const e=t.$$.callbacks[n];if(e){const r=function(t,n){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,!1,!1,n),o}(n,o);e.slice().forEach((n=>{n.call(t,r)}))}}}const y=[],b=[],v=[],x=[],k=Promise.resolve();let L=!1;function T(t){v.push(t)}let C=!1;const z=new Set;function A(){if(!C){C=!0;do{for(let t=0;t<y.length;t+=1){const n=y[t];g(n),_(n.$$)}for(y.length=0;b.length;)b.pop()();for(let t=0;t<v.length;t+=1){const n=v[t];z.has(n)||(z.add(n),n())}v.length=0}while(y.length);for(;x.length;)x.pop()();L=!1,C=!1,z.clear()}}function _(t){if(null!==t.fragment){t.update(),e(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(T)}}const Z=new Set;function E(t,n){t&&t.i&&(Z.delete(t),t.i(n))}function S(t,n,o,e){if(t&&t.o){if(Z.has(t))return;Z.add(t),undefined.c.push((()=>{Z.delete(t),e&&(o&&t.d(1),e())})),t.o(n)}}const V="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function M(t){t&&t.c()}function O(t,o,a){const{fragment:i,on_mount:s,on_destroy:l,after_update:c}=t.$$;i&&i.m(o,a),T((()=>{const o=s.map(n).filter(r);l?l.push(...o):e(o),t.$$.on_mount=[]})),c.forEach(T)}function j(t,n){const o=t.$$;null!==o.fragment&&(e(o.on_destroy),o.fragment&&o.fragment.d(n),o.on_destroy=o.fragment=null,o.ctx=[])}function H(t,n){-1===t.$$.dirty[0]&&(y.push(t),L||(L=!0,k.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function q(n,r,a,i,s,l,u=[-1]){const p=m;g(n);const f=r.props||{},d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:o(),dirty:u};let h=!1;if(d.ctx=a?a(n,f,((t,o,...e)=>{const r=e.length?e[0]:o;return d.ctx&&s(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),h&&H(n,t)),o})):[],d.update(),h=!0,e(d.before_update),d.fragment=!!i&&i(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(c)}else d.fragment&&d.fragment.c();r.intro&&E(n.$$.fragment),O(n,r.target,r.anchor),A()}g(p)}class P{$destroy(){j(this,1),this.$destroy=t}$on(t,n){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(){}}const B=[];function D(n,o=t){let e;const r=[];function i(t){if(a(n,t)&&(n=t,e)){const t=!B.length;for(let t=0;t<r.length;t+=1){const o=r[t];o[1](),B.push(o,n)}if(t){for(let t=0;t<B.length;t+=2)B[t][0](B[t+1]);B.length=0}}}return{set:i,update:function(t){i(t(n))},subscribe:function(a,s=t){const l=[a,s];return r.push(l),1===r.length&&(e=o(i)||t),a(n),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(e(),e=null)}}}}const I=D(!1),N=D(!1);function U(t,n,o){let e,r;i(t,I,(t=>o(2,e=t))),i(t,N,(t=>o(3,r=t)));const a=w();let s={},l="";var c;return c=()=>{e&&a("ready"),r||(N.set(!0),function(t,n,o){let e=t.length;function r(){e=--e,e<1&&o()}n()?o():t.forEach((({type:t,url:n,options:o={async:!0,defer:!0}})=>{const e="script"===t,a=document.createElement(e?"script":"link");e?(a.src=n,a.async=o.async,a.defer=o.defer):(a.rel="stylesheet",a.href=n),a.onload=r,document.body.appendChild(a)}))}([{type:"style",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"},{type:"script",url:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"}],(()=>!1),(()=>(s=window.L,l=s.map,I.set(!0),!0))))},$().$$.on_mount.push(c),t.$$.update=()=>{4&t.$$.dirty&&e&&a("ready")},[]}class R extends P{constructor(t){super(),q(this,t,U,null,a,{})}}const{window:W}=V;function F(t){let n,o,e,r,a,i;return e=new R({}),e.$on("ready",t[1]),{c(){n=u("div"),o=f(),M(e.$$.fragment),d(n,"class","map svelte-1xdqv5q"),d(n,"id",t[0])},m(s,c){var u,p,f,d;l(s,n,c),t[7](n),l(s,o,c),O(e,s,c),r=!0,a||(u=W,p="resize",f=t[2],u.addEventListener(p,f,d),i=()=>u.removeEventListener(p,f,d),a=!0)},p(t,o){(!r||1&o[0])&&d(n,"id",t[0])},i(t){r||(E(e.$$.fragment,t),r=!0)},o(t){S(e.$$.fragment,t),r=!1},d(r){r&&c(n),t[7](null),r&&c(o),j(e,r),a=!1,i()}}}function G(t,n,o){let e={},r="";const a=w();let i,s,{options:l}=n,{zoom:c=13,maxZoom:u=19,minZoom:p=1,mapID:f="map",attributionControl:d=!0,center:h=[0,0],markers:m,circles:g,recenter:$=!1,scrollWheelZoom:y=!0,tilelayers:v=[{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],controls:x={zoomControl:!0,position:"topleft",scale:!1}}=l,k=[],L=[],T={iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[1,-34],shadowSize:[41,41]};function C(t,n){t.bindPopup(n.text,{closeOnClick:!1,autoClose:!1,...n}).addTo(r),n.isOpen&&t.openPopup()}function z(t,n){t.bindTooltip(n.text,{...n}).addTo(r),n.isOpen&&t.openTooltip()}let A=[];const _=t=>{t.markers.map(((t,n)=>{t.icon&&(i=e.icon(t.icon)),A[n]=new e.marker([t.lat,t.lng],{icon:i}).addTo(r),t.popup&&C(A[n],t.popup),t.tooltip&&z(A[n],t.tooltip)}))};let Z=!1;return t.$set=t=>{"options"in t&&o(3,l=t.options)},[f,function(){setTimeout((()=>{e=window.L,function(){r=e.map(f,{attributionControl:d,zoomControl:x.zoomControl,minZoom:p,maxZoom:u}).setView(h,c),A=e.marker([0,0]),v&&v.map((t=>{e.tileLayer(t.url,{...t}).addTo(r)}));y||r.scrollWheelZoom.disable();let t=e.control;x.zoomControl||t().remove();x.scale&&t.scale({position:x.position}).addTo(r);x.zoomControl&&x.position&&(r.removeControl(r.zoomControl),t.zoom({position:x.position}).addTo(r));m&&m.map((t=>{k.push([t.lat,t.lng]),i=t.icon?e.icon(t.icon):e.icon(T);let n=new e.marker([t.lat,t.lng],{icon:i});t.popup&&C(n,t.popup),t.tooltip&&z(n,t.tooltip),n.addTo(r)}));g&&g.map((t=>{L.push([t.lat,t.lng]);let n=new e.circle([t.lat,t.lng],{...t});t.popup&&C(n,t.popup),t.tooltip&&z(n,t.tooltip),n.addTo(r)}));$&&(1==k.length?(r.panTo(e.latLng(k[0][0],k[0][1])),r.setZoom(c)):(s=new e.LatLngBounds(k),r.fitBounds(s)))}(),a("ready")}),1)},function(){r&&r.invalidateSize()},l,_,t=>{Z||(_(t),Z=!0),t.markers.map(((t,n)=>{A[n].setLatLng(t).update(),A[n].addTo(r)}))},(t=5)=>{r.setZoom(t)},function(t){b[t?"unshift":"push"]((()=>{f=t,o(0,f)}))}]}class J extends P{constructor(t){super(),q(this,t,G,F,a,{options:3,addMarker:4,updateMarkers:5,setZoom:6},[-1,-1])}get addMarker(){return this.$$.ctx[4]}get updateMarkers(){return this.$$.ctx[5]}get setZoom(){return this.$$.ctx[6]}}function K(t,n,o){const e=t.slice();return e[12]=n[o],e}function Q(t){let n,o,e,r,a,i=new Date(1e3*t[12].risetime).toLocaleString()+"";return{c(){n=u("li"),o=p(i),e=f(),r=u("br"),a=f(),d(n,"class","pass")},m(t,i){l(t,n,i),s(n,o),s(n,e),s(n,r),s(n,a)},p(t,n){16&n&&i!==(i=new Date(1e3*t[12].risetime).toLocaleString()+"")&&h(o,i)},d(t){t&&c(n)}}}function X(t){let n,o,e,r,a,i,m,g,$,w,y,b,v,x,k,L,T,C,z,A,_=(t[0]??"loading")+"",Z=(t[1]??"loading")+"",V={options:t[5]};o=new J({props:V}),t[7](o),o.$on("ready",t[6]);let H=t[4],q=[];for(let n=0;n<H.length;n+=1)q[n]=Q(K(t,H,n));return{c(){n=u("div"),M(o.$$.fragment),e=f(),r=u("main"),a=u("p"),i=p("Current location:\r\n\t\t"),m=p(_),g=p(",\r\n\t\t"),$=p(Z),w=p("\r\n\t\t(updates 15s once)"),y=f(),b=u("p"),v=p(t[3]),x=f(),k=u("ul");for(let t=0;t<q.length;t+=1)q[t].c();L=f(),T=u("h3"),T.innerHTML='ISS 🛰️ tracker with\n\t\t<svg id="svelte" xmlns="http://www.w3.org/2000/svg" width="300" height="80" viewBox="0 0 519 139"><path id="logotype" fill="#4a4a55" d="M172.39,100.41a24.1,24.1,0,0,1-13.72-3.87,19.86,19.86,0,0,1-8-10.61L159,82.86a15.4,15.4,0,0,0,5.45,6.6,14.37,14.37,0,0,0,8.27,2.43,12.14,12.14,0,0,0,7.88-2.38,8.29,8.29,0,0,0,2.94-6.82,7.43,7.43,0,0,0-.81-3.45,10.32,10.32,0,0,0-1.83-2.6,12.36,12.36,0,0,0-3.16-2.09c-1.42-.71-2.59-1.25-3.53-1.62s-2.32-.87-4.13-1.49c-2.28-.8-4-1.42-5.12-1.88a37.86,37.86,0,0,1-4.47-2.25,16.37,16.37,0,0,1-4.18-3.16A15.43,15.43,0,0,1,153.81,60a14.77,14.77,0,0,1,4-16.79q5.12-4.51,13.89-4.51,7.34,0,12.06,3.23a15.63,15.63,0,0,1,6.35,8.61l-8.18,2.73a9.57,9.57,0,0,0-4-4.39A13.3,13.3,0,0,0,171,47.24a10.7,10.7,0,0,0-6.69,1.87,6.28,6.28,0,0,0-2.42,5.29,5.52,5.52,0,0,0,1.87,4.09,13,13,0,0,0,3.92,2.64c1.36.57,3.44,1.33,6.22,2.3,1.7.63,3,1.09,3.79,1.41s2,.83,3.62,1.57a25.79,25.79,0,0,1,3.67,2,34.36,34.36,0,0,1,3,2.43,12.86,12.86,0,0,1,2.6,3.11,17.06,17.06,0,0,1,1.53,3.84,17.42,17.42,0,0,1,.64,4.81q0,8.36-5.71,13.08T172.39,100.41Zm54.62-1L206.56,39.74h9.54l13.55,41.58a66.19,66.19,0,0,1,1.88,6.82,63.43,63.43,0,0,1,1.87-6.82l13.38-41.58h9.46L235.87,99.39Zm47.29,0V39.74h37v8.35H283.17V64.45h18.15V72.8H283.17V91h30v8.35Zm61.44,0V39.74h8.87V90.87h29.14v8.52Zm71.41-51.13V99.39h-8.86V48.26H381.42V39.74H424v8.52Zm35.2,51.13V39.74h37v8.35H451.21V64.45h18.15V72.8H451.21V91h30v8.35Z"></path><path id="back" fill="#ff3e00" d="M110.23,28.39C99.83,13.51,79.29,9.1,64.44,18.56L38.36,35.18a29.9,29.9,0,0,0-13.52,20,31.53,31.53,0,0,0,3.1,20.24,29.94,29.94,0,0,0-4.47,11.18,31.86,31.86,0,0,0,5.45,24.12c10.4,14.88,30.94,19.29,45.79,9.83L100.79,104a30,30,0,0,0,13.52-20,31.52,31.52,0,0,0-3.11-20.23,30.13,30.13,0,0,0,4.48-11.18,31.9,31.9,0,0,0-5.45-24.12"></path><path id="front" fill="#fff" d="M61.89,112.16a20.73,20.73,0,0,1-22.24-8.25,19.14,19.14,0,0,1-3.27-14.5A17,17,0,0,1,37,87l.49-1.5,1.34,1A33.78,33.78,0,0,0,49,91.56l1,.29-.09,1A5.9,5.9,0,0,0,51,96.7a6.25,6.25,0,0,0,6.7,2.48,5.85,5.85,0,0,0,1.6-.7L85.34,81.86a5.42,5.42,0,0,0,2.45-3.64,5.77,5.77,0,0,0-1-4.37,6.25,6.25,0,0,0-6.7-2.48,5.72,5.72,0,0,0-1.6.7l-10,6.35a19.1,19.1,0,0,1-5.29,2.32A20.72,20.72,0,0,1,41,72.5,19.16,19.16,0,0,1,37.75,58a18,18,0,0,1,8.13-12.06L72,29.32A19.05,19.05,0,0,1,77.26,27a20.71,20.71,0,0,1,22.23,8.25,19.14,19.14,0,0,1,3.28,14.5,20.15,20.15,0,0,1-.62,2.43l-.5,1.5-1.33-1a33.78,33.78,0,0,0-10.2-5.1l-1-.29.09-1a5.86,5.86,0,0,0-1.06-3.88A6.23,6.23,0,0,0,81.49,40a5.72,5.72,0,0,0-1.6.7L53.8,57.29a5.45,5.45,0,0,0-2.45,3.63,5.84,5.84,0,0,0,1,4.38A6.25,6.25,0,0,0,59,67.78a6,6,0,0,0,1.6-.7l10-6.34a18.61,18.61,0,0,1,5.3-2.33,20.7,20.7,0,0,1,22.23,8.24,19.16,19.16,0,0,1,3.28,14.5,18,18,0,0,1-8.13,12.06L67.19,109.83a19.18,19.18,0,0,1-5.3,2.33"></path></svg>',C=f(),z=u("footer"),z.innerHTML='<span>from</span> \n\t<a href="https://anoram.com">Anoram</a>',d(n,"class","map svelte-7snk8j"),d(a,"class","latlon"),d(T,"class","sign"),d(r,"class","text-center"),d(z,"class","text-center")},m(t,c){l(t,n,c),O(o,n,null),l(t,e,c),l(t,r,c),s(r,a),s(a,i),s(a,m),s(a,g),s(a,$),s(a,w),s(r,y),s(r,b),s(b,v),s(r,x),s(r,k);for(let t=0;t<q.length;t+=1)q[t].m(k,null);s(r,L),s(r,T),l(t,C,c),l(t,z,c),A=!0},p(t,[n]){if(o.$set({}),(!A||1&n)&&_!==(_=(t[0]??"loading")+"")&&h(m,_),(!A||2&n)&&Z!==(Z=(t[1]??"loading")+"")&&h($,Z),(!A||8&n)&&h(v,t[3]),16&n){let o;for(H=t[4],o=0;o<H.length;o+=1){const e=K(t,H,o);q[o]?q[o].p(e,n):(q[o]=Q(e),q[o].c(),q[o].m(k,null))}for(;o<q.length;o+=1)q[o].d(1);q.length=H.length}},i(t){A||(E(o.$$.fragment,t),A=!0)},o(t){S(o.$$.fragment,t),A=!1},d(a){a&&c(n),t[7](null),j(o),a&&c(e),a&&c(r),function(t,n){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(n)}(q,a),a&&c(C),a&&c(z)}}}const Y="https://cors.anoram.workers.dev/?",tt="http://api.open-notify.org/iss-pass.json?alt=20&n=5&";function nt(t,n,o){let e,r,a;let i="Please allow location access to know when ISS will pass your location.";function s(t){!async function(t,n){o(3,i="loading...");await fetch(`${Y}${tt}lat=${t}&lon=${n}`).then((async t=>{let n=await t.json();o(4,l=await n.response),o(3,i="Check below for the passes!")}))}(t.coords.latitude,t.coords.longitude)}navigator.geolocation?navigator.geolocation.getCurrentPosition(s):console.warn("Geolocation is not supported by this browser / Not shared");let l="";return[e,r,a,i,l,{zoom:2,center:[0,0],mapID:"map",tilelayers:[{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19}]},async function(){!async function t(){let n=await async function(){let t=await fetch(Y+"http://api.open-notify.org/iss-now.json"),n=await t.json();return o(0,e=n.iss_position.latitude),o(1,r=n.iss_position.longitude),{lat:e,lng:r}}(),i={lat:n.lat,lng:n.lng,icon:{iconUrl:"./favicon.png",iconSize:[48,48]}};a.updateMarkers({markers:[i]}),setTimeout(t,5e3)}()},function(t){b[t?"unshift":"push"]((()=>{a=t,o(2,a)}))}]}const ot=new class extends P{constructor(t){super(),q(this,t,nt,X,a,{})}}({target:document.body});return console.log("%c with love from anoram ","font-weight: bold; font-size: 15px;color: #fc4a1a;  border:1px dotted #f7b733"),ot}();
